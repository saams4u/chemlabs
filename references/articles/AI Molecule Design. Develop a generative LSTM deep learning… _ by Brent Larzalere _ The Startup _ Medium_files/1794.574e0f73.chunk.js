(self.webpackChunklite=self.webpackChunklite||[]).push([[1794],{71794:(n,t,e)=>{"use strict";e.d(t,{j7:()=>f,OO:()=>p,iI:()=>d,m3:()=>v});var o=e(28655),r=e.n(o),i=e(71439),a=e(14391),c=e(22744),l=e(50993);function u(){var n=r()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return n},n}function s(){var n=r()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return s=function(){return n},n}var f=function(n){return function(n){var t=n.metaDescription,e=n.seoDescription,o=n.title||"";if(e)return e;if(t)return t;var r=function(n){var t=(0,c.r4)(n,250);return t&&(0,l.N8)(t,200)}(n);if(r.length>150)return r;var i=n.previewContent&&n.previewContent.subtitle||"";if(i.length>140)return i;i.length>0&&(i+=".");var a=(o.length?o+". ":"")+i;if(a.length>140)return a;var u="“".concat(o,"” is published");return n.creator&&n.creator.name&&(u+=" by ".concat(n.creator.name)),n.collection&&n.collection.name&&(u+=" in ".concat(n.collection.name)),"".concat(i," ").concat(u,".")}(n).trim()},p=function(n,t){var e=n.metaDescription,o=n.seoDescription,r=n.shortformType,i=r===a.po.SHORTFORM_TYPE_NOTE||!r;if(o)return o;if(e)return e;if(i&&t){var u=(0,c.r4)(n,350,0);return(0,l.N8)(u,300)}return""},d=(0,i.Ps)(s(),c.bh),v=(0,i.Ps)(u(),c.bh)},22744:(n,t,e)=>{"use strict";e.d(t,{r4:()=>C,bh:()=>M,yB:()=>I,dm:()=>E,lO:()=>N,Bg:()=>j,_t:()=>L,bq:()=>R,oS:()=>U,Pz:()=>F,c_:()=>H,HF:()=>k});var o=e(59713),r=e.n(o),i=e(28655),a=e.n(i),c=e(71439),l=e(90584),u=e(4743),s=e(14391),f=e(398),p=e(50993);function d(){var n=a()(["\n  fragment shouldIndexPost_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    curationStatus\n    creator {\n      name\n      atsQualifiedAt\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n    }\n    collection {\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n      creator {\n        atsQualifiedAt\n      }\n      ptsQualifiedAt\n    }\n    noIndex\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return d=function(){return n},n}function v(){var n=a()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return v=function(){return n},n}function m(){var n=a()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return m=function(){return n},n}function g(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function h(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?g(Object(e),!0).forEach((function(t){r()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function b(){var n=a()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    firstPublishedAt\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      id\n      name\n      domain\n      ...maybeAppendProductName_collection\n    }\n    creator {\n      name\n    }\n    previewContent {\n      subtitle\n    }\n  }\n  ","\n  ","\n  ","\n"]);return b=function(){return n},n}function y(){var n=a()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return y=function(){return n},n}function P(){var n=a()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return P=function(){return n},n}function S(){var n=a()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return S=function(){return n},n}function T(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return O(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,i=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw i}}}}function O(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function _(){var n=a()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return _=function(){return n},n}function A(n,t){var e,o,r;return null!==(e=t.sequence)&&void 0!==e&&e.title?n+=" - ".concat(t.sequence.title):null!==(o=t.collection)&&void 0!==o&&o.name?n+=" - ".concat(t.collection.name):null!==(r=t.creator)&&void 0!==r&&r.name&&(n+=" - ".concat(t.creator.name)),n}var D=(0,c.Ps)(_());function C(n){var t,e,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},c=a.includeMixtapeHref,l=(null===(t=n.content)||void 0===t||null===(e=t.bodyModel)||void 0===e?void 0:e.paragraphs)||[],u="",s=T(l);try{for(s.s();!(o=s.n()).done;){var f=o.value,p=f.mixtapeMetadata,d=f.text,v=f.type;if(c&&null!=p&&p.href?u+=u?" ".concat(p.href):p.href:"P"===v&&d&&d.length>i&&(u+=u?" ".concat(d):d),u.length>r)break}}catch(n){s.e(n)}finally{s.f()}return u}var M=(0,c.Ps)(S());function I(n){var t=!1,e="";if(n.content&&n.content.bodyModel&&n.content.bodyModel.paragraphs){var o=n.content.bodyModel.paragraphs,r=(0,u.LI)(o).titleIndex;"number"==typeof r&&(e=o[r].text||"",t=!0)}return{hasTitleGraf:t,latestTitle:e}}var E=(0,c.Ps)(P(),M,u.k);function w(n,t,e){return null!=e&&e.domain?n:"".concat(n," - ").concat(t)}var x=(0,c.Ps)(y());function N(n,t){var e,o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.seoTitle,a=n.title||"",c=(null===(e=n.previewContent)||void 0===e?void 0:e.subtitle)||"";if(i)return(0,f.p)(i,n.collection&&n.collection.name,t);if(!r)return a.length>50?a:a=w(a=A(a,n),t,n.collection);a.length<33&&c&&(c=(0,p.N8)(c,40),a+=". ".concat(c)),null!==(o=n.creator)&&void 0!==o&&o.name&&(a+=" | by ".concat(n.creator.name));var u="",s=Date.now()-5184e6;n.firstPublishedAt>=s&&(u=" | ".concat((0,l.Z)(n.firstPublishedAt,"LLL, yyyy")));var d=n.collection;return d?d.domain?a+="".concat(u," | ").concat(d.name):a+=" | ".concat(d.name).concat(u," | ").concat(t):a+="".concat(u," | ").concat(t),a}var j=(0,c.Ps)(b(),M,D,x);function L(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(n),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n.title||"",i=e.latestTitle||r,a=h(h({},n),{},{title:i});return N(a,t,o).trim()}var R=(0,c.Ps)(m(),j,E);function U(n,t,e){var o=n.seoTitle,r=n.title||"";return o?(0,f.p)(o,n.collection&&n.collection.name,t):r=w(r=A(r=function(n,t,e){var o=t.shortformType,r=o===s.po.SHORTFORM_TYPE_NOTE||!o;return e||(r?n=C(t,250,0):o===s.po.SHORTFORM_TYPE_LINK&&(n=C(t,250,0,{includeMixtapeHref:!0}))),(0,p.N8)(n,200)}(r,n,e),n),t,n.collection)}var F=(0,c.Ps)(v(),M,D,x);function H(n){var t,e,o,r,i=n.noIndex,a=n.collection,c=n.curationStatus,l=n.firstPublishedAt,u=n.isLimitedState,f=n.isShortform,p=n.shortformType,d=n.visibility,v=p===s.po.SHORTFORM_TYPE_NOTE||!p;if(i)return!1;if(!l)return!1;if("PUBLIC"!==d&&"LOCKED"!==d)return!1;if(u)return!1;if(f)if(v){if(C(n,10,0).length<=10)return!1}else if(0===C(n,10,0).length)return!1;if((null===(t=n.creator)||void 0===t?void 0:t.atsQualifiedAt)>0||a&&a.ptsQualifiedAt>0)return!0;if(c&&(c===s.Xg.CURATION_STATUS_DISTRIBUTED||c===s.Xg.CURATION_STATUS_DISTRIBUTED_AND_DISABLED))return!0;var m=["DELETED","FAILED","UNSPECIFIED"],g=null==a||null===(e=a.customDomainState)||void 0===e?void 0:e.live,h=null===(o=n.creator)||void 0===o||null===(r=o.customDomainState)||void 0===r?void 0:r.live;return!((!g||g.isSubdomain||m.includes(g.status))&&(!h||h.isSubdomain||m.includes(h.status)))}var k=(0,c.Ps)(d(),M)},398:(n,t,e)=>{"use strict";e.d(t,{N:()=>o,p:()=>r});var o=function(n){return n||"Untitled story"},r=function(n,t,e){return t?"".concat(n," | ").concat(t):e?"".concat(n," | ").concat(e):n}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/1794.574e0f73.chunk.js.map