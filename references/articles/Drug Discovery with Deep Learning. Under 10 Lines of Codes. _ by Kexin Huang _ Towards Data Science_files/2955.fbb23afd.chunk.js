(self.webpackChunklite=self.webpackChunklite||[]).push([[2955],{43915:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var r=t(67294);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:25,height:25},e),i)}},2955:(e,n,t)=>{"use strict";t.d(n,{Xc:()=>_e,Dn:()=>Le,Dc:()=>Me});var r=t(28655),o=t.n(r),i=t(67154),a=t.n(i),l=t(59713),s=t.n(l),u=t(71439),c=t(67294),d=t(63038),p=t.n(d),m=t(93653),f=t(71245),v=t(78820),h=t(73232),g=t(32262),E=t(78181),b=t(64504),x=t(28309),P=t(14391),y=t(67297),C=t(93394),T=t(39171),R=t(51064),w=t(27952);function S(){var e=o()(["\n  fragment TruncatedPostCardEditorWriterButton_post on Post {\n    id\n    collection {\n      id\n      name\n      slug # Needed for rejectPostFromPub (not currently exposed as a reusable fragment)\n    }\n    responseDistribution\n    ...useIsPinnedInContext_post\n  }\n  ","\n"]);return S=function(){return e},e}var I=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},k=function(e){var n=e.post,t=e.publisherContext,r=e.isEditor,o=e.isWriter,i=(0,x.Iq)(),l=(0,y.v9)((function(e){return e.config.authDomain})),s=n.id,u=n.collection,d=n.responseDistribution,S=u||{id:"",name:""},k=S.id,_=S.name,O=(0,R.O)(!1),M=p()(O,3),B=M[0],A=M[1],L=M[2],D=(0,v.n_)(n,t),U=p()(D,2),V=U[0],j=U[1],F=c.useState(""),N=p()(F,2),W=N[0],z=N[1],H=c.useCallback((function(){L(),j().then((function(e){var n=e.errors;n&&n.length&&n[0].message?z(n[0].message):window.location.reload()}))}),[L,j,z]),K=(0,f.yb)(n),G=(0,R.O)(!1),J=p()(G,3),Q=J[0],Z=J[1],q=J[2],Y=c.useCallback((function(){K(u).then((function(){return window.location.reload()}))}),[k,K]),X=(0,m.j)(s),$=p()(X,1)[0],ee=(0,R.O)(!1),ne=p()(ee,3),te=ne[0],re=ne[1],oe=ne[2],ie=c.useCallback((function(){$().then((function(){return window.location.reload()}))}),[$]),ae=d===P.Et.DISTRIBUTED,le=(0,R.O)(!1),se=p()(le,3),ue=se[0],ce=se[1],de=se[2],pe={buttonStyle:"ERROR",cancelText:"Cancel"},me="truncatedPostCardEditorWriterMenu",fe="Delete story".concat(ae?" and response":""),ve=ae?h.Q:"Are you sure you want to delete this story?";return c.createElement(c.Fragment,null,c.createElement(E.QH,a()({},pe,{isVisible:Q,onConfirm:Y,hide:q,titleText:"Remove story",confirmText:"Remove",isDestructiveAction:!0}),"Are you sure you want to remove this story from ",_,"?"),c.createElement(E.QH,a()({},pe,{isVisible:te,onConfirm:ie,hide:oe,titleText:fe,confirmText:"Delete",isDestructiveAction:!0}),ve),c.createElement(E.QH,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:ue,onConfirm:function(){var e=(0,w.d0A)(l,s);window.location.replace(e)},hide:de,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},h.t),c.createElement(E.J2,{ariaId:me,hide:L,isVisible:B,popoverRenderFn:function(){return c.createElement(g.mX,null,(r||o&&"User"===t)&&c.createElement(g.Sl,null,c.createElement(E.rU,{onClick:H},V?"Unpin":"Pin"," story")),c.createElement(g.Sl,null,ae?c.createElement(E.rU,{linkStyle:"SUBTLE",onClick:(0,T.B)(L,ce)},"Edit story"):c.createElement(E.rU,{linkStyle:"SUBTLE",href:(0,w.d0A)(l,s)},"Edit story")),c.createElement(g.oK,null),c.createElement(g.Sl,null,c.createElement(E.rU,{href:(0,w.KIb)(l,s)},"Story settings")),c.createElement(g.Sl,null,c.createElement(E.rU,{href:(0,w.T0G)(l,s)},"View stats")),c.createElement(g.oK,null),k&&c.createElement(g.Sl,null,c.createElement(E.rU,{onClick:Z},"Remove story from publication")),o&&c.createElement(g.Sl,null,c.createElement(E.rU,{onClick:(0,T.B)(L,re)},"Delete story")))}},c.createElement(E.rU,{ariaControls:me,ariaExpanded:B?"true":"false",ariaLabel:"More options",onClick:A},c.createElement(C.Z,{className:i(I)}))),c.createElement(E.FN,{isVisible:!!W,hide:function(){return z("")},duration:5e3},c.createElement(b.F,{scale:"M"},W)))},_=(0,u.Ps)(S(),v.xt),O=t(28774),M=t(33241),B=t(885),A=t(97292),L=t(34675),D=t(32589),U=t(18970),V=t(90639);function j(){var e=o()(["\n  fragment TruncatedPostCardReaderButton_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return j=function(){return e},e}var F=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},N=function(e){var n=e.post,t=e.viewer,r=(0,x.Iq)(),o=n.id,i=n.creator,a=n.collection,l=null==i?void 0:i.id,s=null==a?void 0:a.id,u=(0,R.O)(!1),d=p()(u,3),m=d[0],f=d[1],v=d[2],h=(0,A.l)(l,s),b=h.muteAuthor,P=h.unmuteAuthor,y="truncatedPostCardReaderMenu",w=(0,L.rZ)().viewerId,S=(0,D.P)(l).viewerEdge,I=!(null==S||!S.isBlocking),k=!(null==S||!S.isMuting),_=(0,R.O)(!1),j=p()(_,3),N=j[0],W=j[1],z=j[2],H=(0,R.O)(!1),K=p()(H,3),G=K[0],J=K[1],Q=K[2];return s&&l?c.createElement(c.Fragment,null,c.createElement(M.H,{targetAuthorId:l,targetPostId:o,isBlocking:I,onOptimisticComplete:Q,viewerId:w},(function(e){var n=e.mutate;return c.createElement(V.$,{onSubmit:n,isVisible:G,hide:Q})})),I?null:c.createElement(O.z,{targetUserId:l,viewerId:t.id,onCompleted:z},(function(e){var n=e.mutate;return c.createElement(U.r,{onConfirm:n,isVisible:N,hide:z})})),c.createElement(E.J2,{ariaId:y,hide:v,isVisible:m,popoverRenderFn:function(){return c.createElement(g.mX,null,c.createElement(g.Sl,null,c.createElement(E.rU,{onClick:(0,T.B)(v,k?P:b)},k?"Unmute":"Mute"," this author")),c.createElement(g.Sl,null,I?c.createElement(B.E,{targetUserId:l,viewerId:t.id},(function(e){var n=e.mutate;return c.createElement(E.rU,{onClick:(0,T.B)(v,n)},"Unblock this author")})):c.createElement(E.rU,{onClick:(0,T.B)(v,W)},"Block this author")),c.createElement(g.Sl,null,c.createElement(E.rU,{onClick:(0,T.B)(v,J)},"Report this story")))}},c.createElement(E.rU,{ariaControls:y,ariaExpanded:m?"true":"false",ariaLabel:"More options",onClick:f},c.createElement(C.Z,{className:r(F)})))):null},W=(0,u.Ps)(j()),z=t(73891);function H(){var e=o()(["\n  fragment TruncatedPostCardOverflowButton_post on Post {\n    creator {\n      id\n    }\n    ...TruncatedPostCardEditorWriterButton_post\n    ...TruncatedPostCardReaderButton_post\n  }\n  ","\n  ","\n"]);return H=function(){return e},e}var K=function(e){var n,t,r=e.post,o=e.publisherContext,i=(0,L.Hk)().value,a=(0,z.g)(null===(n=r.collection)||void 0===n?void 0:n.id).viewerEdge,l=!(null==a||!a.isEditor),s=(null==i?void 0:i.id)===(null===(t=r.creator)||void 0===t?void 0:t.id);return i?l||s?c.createElement(k,{post:r,isEditor:l,isWriter:s,publisherContext:o}):c.createElement(N,{post:r,viewer:i}):null},G=(0,u.Ps)(H(),_,W),J=(t(50361),t(4743));function Q(){var e=o()(["\n  fragment NormalizeSequenceBodyModel_bodyModel on RichText {\n    ...GetFeaturedImageIndex_bodyModel\n    ...GetTitleIndexMap_bodyModel\n    sections {\n      name\n      startIndex\n    }\n  }\n  ","\n  ","\n"]);return Q=function(){return e},e}(0,u.Ps)(Q(),J.ke,J.k);var Z=t(43198);function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){s()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=function(e,n){var t,r=null!==(t=(0,J.LI)(e).titleIndex)&&void 0!==t?t:(0,Z.s)(e,Z.j);return e.map((function(e,t){return e.type===P.NJ.IMG?function(e,n){return n?Y(Y({},e),{},{href:n}):e}(e,n):t===r?function(e,n){var t;return n?Y(Y({},e),{},{markups:[{anchorType:P.yG.LINK,type:P.Jh.A,start:0,end:(null==e||null===(t=e.text)||void 0===t?void 0:t.length)||0,href:n,userId:null,linkMetadata:null}]}):e}(e,n):e}))},$=t(78415),ee=t(30570),ne=t(86156),te=t(72846),re=t(88065),oe=t(85828),ie=t(99046),ae=t(93912),le=t(50077),se=t(33819),ue=t(53976),ce=t(27572),de=t(72955);t(95760);var pe=c.createContext(null),me=function(e){var n=e.event,t=e.children;return c.createElement(pe.Provider,{value:{event:n}},t)},fe=t(96879),ve=t(27390);function he(){var e=o()(["\n  fragment TruncatedPostCard_post on Post {\n    id\n    creator {\n      ...TruncatedPostCard_user\n    }\n    collection {\n      ...CardByline_collection\n    }\n    extendedPreviewContent(\n      truncationConfig: {\n        previewParagraphsWordCountThreshold: 100\n        minimumWordLengthForTruncation: 150\n        truncateAtEndOfSentence: true\n        showFullImageCaptions: true\n        shortformPreviewParagraphsWordCountThreshold: 30\n        shortformMinimumWordLengthForTruncation: 30\n      }\n    ) {\n      bodyModel {\n        ...TruncatedPostCard_bodyModel\n      }\n      isFullContent\n    }\n    firstPublishedAt\n    isLocked\n    isShortform\n    latestPublishedAt\n    mediumUrl\n    postResponses {\n      count\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    readingTime\n    title\n    visibility\n    inResponseToPostResult {\n      ...TruncatedPostCard_inResponseToPostPreview_postResult\n    }\n    ...CardByline_post\n    ...TruncatedPostCardOverflowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n    ...PostFooterSocialPopover_post\n    ...BookmarkButton_post\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...TruncatedPostCard_inResponseToPostPreview_mediaResource\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return he=function(){return e},e}function ge(){var e=o()(["\n  fragment TruncatedPostCard_inResponseToPostPreview_mediaResource on Post {\n    ...InResponseToPostPreview_mediaResource\n  }\n  ","\n"]);return ge=function(){return e},e}function Ee(){var e=o()(["\n  fragment TruncatedPostCard_inResponseToPostPreview_postResult on PostResult {\n    ...InResponseToPostPreview_postResult\n  }\n  ","\n"]);return Ee=function(){return e},e}function be(){var e=o()(["\n  fragment TruncatedPostCard_user on User {\n    __typename\n    name\n    username\n    ...CardByline_user\n  }\n  ","\n"]);return be=function(){return e},e}function xe(){var e=o()(["\n  fragment TruncatedPostCard_bodyModel on RichText {\n    ...PostBody_bodyModel\n  }\n  ","\n"]);return xe=function(){return e},e}function Pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pe(Object(t),!0).forEach((function(n){s()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ce=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},Te={xs:{marginTop:"32px"},sm:{marginTop:"32px"},md:{marginTop:"40px"},lg:{marginTop:"40px"},xl:{marginTop:"40px"}},Re={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},we=[P.NJ.H3,P.NJ.H4],Se=[P.NJ.IMG,P.NJ.IFRAME],Ie=function(e){var n=e.isShortformMeteredWithMedia,t=e.onReadMore,r=e.showReadMore,o=e.post,i=e.publisher,a=(0,ue.V)({name:"enable_inline_expansion",placeholder:!1});if(!r)return null;var l=o.mediumUrl,s=o.readingTime;if(!l)return null;var u="".concat((0,ve.Vd)(s||0)," min read"),d="Collection"!==i.__typename&&o.collection&&!a?"Read more in ".concat(o.collection.name):"Read more",p=(0,fe.Rk)(l,{readmore:"1"});return c.createElement(E.xu,{marginTop:n?"24px":"34px"},c.createElement(E.rU,{href:p,onClick:t},c.createElement(b.F,{color:"ACCENT",scale:"M"},d," ",u?" · ".concat(u):"")))},ke=c.forwardRef((function(e,n){var t,r=e.cardByline,o=e.onReadMore,i=e.postLink,a=e.markedUpBodyModel,l=(0,x.Iq)(),u=a.paragraphs[0],d=a.paragraphs[1],p={insertType:"BYLINE",order:"before",component:r},m={insertType:"MEDIA_OVERLAY",order:"after",component:c.createElement(E.rU,{href:i,onClick:o},c.createElement("div",{className:l((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))},f=null!=d&&d.name&&null!=u&&u.name?(t={},s()(t,d.name,[p]),s()(t,u.name,[m]),t):{};return c.createElement(te.yO,{ref:n,bodyModel:a,postBodyInserts:f,isAuroraPostPageEnabled:!0,richTextStyle:"SHORTFORM_CARD"})})),_e=function(e){var n,t,r,o=e.excludeMargin,i=void 0!==o&&o,l=e.includeTopDivider,s=void 0===l||l,u=e.includeBottomDivider,d=void 0!==u&&u,p=e.isFirst,m=void 0!==p&&p,f=e.publisher,v=e.post,h=e.hideAuthor,g=void 0!==h&&h,b=e.index,P=e.maxWidthSize,y=void 0===P?"inset":P,C=e.showInResponseToPostPreview,T=void 0!==C&&C,R=e.mayShowPinned,w=void 0!==R&&R,S=e.onReadMore,I=e.customPostBody,k=e.showReadMore,_=void 0===k||k,O=(0,x.Iq)(),M=c.useRef(null);(0,de.Vj)(M,v);var B,A=(0,ee.sK)(),L=A.postInView,D=A.expandedPostId,U=c.useContext(ne.f).openSidebar,V=(null==v||null===(n=v.postResponses)||void 0===n?void 0:n.count)||0,j=v.id,F=v.clapCount,N=v.collection,W=v.extendedPreviewContent,z=v.isLocked,H=v.firstPublishedAt,G=v.latestPublishedAt,Q=v.mediumUrl,Z=v.pinnedAt,q=v.pinnedByCreatorAt,Y=v.visibility,ue=v.inResponseToPostResult,pe=v.inResponseToMediaResource,ve=(0,ce.Lk)(),he=(0,ce.f0)(ye(ye({},ve),{},{index:b}));Q&&ve&&(B=(0,fe.Rk)(Q,{source:he}));var ge=null==v||null===(t=v.extendedPreviewContent)||void 0===t?void 0:t.bodyModel;if(!ge)return null;var Ee=ye(ye({},ge),{},{paragraphs:X(ge.paragraphs,B||Q)}),be=!!Z&&!!G,xe=be?G:H,Pe=be?"Updated ":"",_e=!(null==v||null===(r=v.extendedPreviewContent)||void 0===r||!r.isFullContent),Oe=!_e,Me=s&&!m&&c.createElement("hr",{className:O(Ce)}),Be=d&&c.createElement("hr",{className:O(Ce)}),Ae=m?Te:Re,Le={postId:j,collectionId:null==N?void 0:N.id,isFullPost:null==W?void 0:W.isFullContent,postVisibility:(0,ae.z)(Y),context:2,pinned:Boolean(Z)},De="User"===(null==f?void 0:f.__typename)&&v.collection?v.collection:v.creator,Ue="User"===(null==f?void 0:f.__typename)?q:Z,Ve="number"==typeof(0,J.LI)(Ee.paragraphs).titleIndex?void 0:40,je=c.createElement(c.Fragment,null,De&&c.createElement(le.u_,{publisher:De,hideAuthor:g,href:Q||void 0,isOneLine:!0,datePrefix:Pe,publishedAt:xe,showStar:!!z,showPinned:w&&!!Ue,post:v}),T&&c.createElement($.CV,{inResponseToPostResult:ue,inResponseToMediaResource:pe,padding:"24px 0 0",postPreviewMarginBottom:Ve})),Fe=Ee.paragraphs[0]&&Se.includes(Ee.paragraphs[0].type)&&Ee.paragraphs[0].name,Ne=Ee.paragraphs[1]&&we.includes(Ee.paragraphs[1].type)&&Ee.paragraphs[1].name,We=f||v.creator,ze=z&&(2===Ee.paragraphs.length||3===Ee.paragraphs.length)&&1===ge.sections.length&&Ne&&Fe;return c.createElement(ce.cW,{source:{index:b},extendSource:!0},c.createElement(E.xu,a()({boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},i?{}:Ae),c.createElement(ce.cW,{source:{index:b},extendSource:!0},c.createElement(E.Pm,{size:i?"full":y},Me,c.createElement(de.ot,{post:v,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!Oe,suppressedEvents:_e?"VIEWED":void 0,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!Z},c.createElement(E.xu,{sm:{marginTop:Me?ze?"48px":"24px":void 0},marginTop:Me?ze?"72px":"24px":void 0},De&&!ze&&je,c.createElement(E.xu,{marginTop:ze?"":"12px",ref:M},c.createElement(me,{event:{eventName:"post.permalinkClicked",data:ye(ye({},Le),{},{interfaceElement:"title"})}},ze?c.createElement(ke,{cardByline:je,markedUpBodyModel:Ee,onReadMore:S,postLink:B||Q}):c.createElement(c.Fragment,null,I?c.createElement(c.Fragment,null,I):c.createElement(te.yO,{bodyModel:Ee,isAuroraPostPageEnabled:!0,richTextStyle:"CARD"}))))),Oe&&Q&&We&&c.createElement(Ie,{isShortformMeteredWithMedia:!!ze,onReadMore:S,post:v,publisher:We,showReadMore:_}),v&&c.createElement(E.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:ze?"32px":"36px"},c.createElement(E.xu,{display:"flex",alignItems:"center"},c.createElement(ie.S,{post:v,buttonStyle:"SUBTLE",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),c.createElement(E.xu,{display:"flex",alignItems:"center",xl:{marginLeft:F?"24px":"12px"},lg:{marginLeft:F?"24px":"12px"},md:{marginLeft:F?"16px":"8px"},sm:{marginLeft:F?"16px":"8px"},xs:{marginLeft:F?"16px":"8px"},paddingTop:"3px"},c.createElement(E.rU,{href:Q+"?responsesOpen=true"},c.createElement(se.h,{location:"preview",postId:v.id,responsesCount:V,showResponsesSidebar:U&&L&&D===v.id?function(e){e.preventDefault(),U()}:function(){},allowResponses:v.allowResponses,isLimitedState:v.isLimitedState,responsesCountColor:"DARKER"})))),c.createElement(E.xu,{display:"flex",alignItems:"center",justifyContent:"flex-end"},c.createElement(E.xu,{marginRight:"8px"},c.createElement(oe.$,{post:v,source:{name:"collection_home"}})),c.createElement(E.xu,{marginRight:"8px"},c.createElement(re.e,{post:v,susiEntry:"bookmark_preview"})),(null==f?void 0:f.__typename)&&c.createElement(E.xu,{marginRight:"-4px"},c.createElement(K,{post:v,publisherContext:f.__typename})))))))),d&&c.createElement(E.Pm,{size:i?"full":y},Be))},Oe=(0,u.Ps)(xe(),te.Pk),Me=(0,u.Ps)(be(),le.br),Be=(0,u.Ps)(Ee(),$.zJ),Ae=(0,u.Ps)(ge(),$.KI),Le=(0,u.Ps)(he(),le.yu,Oe,Me,G,ie.x,se.K,oe.u,re.z,de.h_,de.kH,le.We,Be,Ae)},93653:(e,n,t)=>{"use strict";t.d(n,{j:()=>u});var r=t(28655),o=t.n(r),i=t(71439),a=t(46829);function l(){var e=o()(["\n  mutation DeletePostMutation($targetPostId: ID!) {\n    deletePost(targetPostId: $targetPostId)\n  }\n"]);return l=function(){return e},e}var s=(0,i.Ps)(l()),u=function(e){var n=e?{variables:{targetPostId:e}}:{};return(0,a.useMutation)(s,n)}},30570:(e,n,t)=>{"use strict";t.d(n,{sK:()=>m,L0:()=>f,q9:()=>v});var r=t(28655),o=t.n(r),i=t(63038),a=t.n(i),l=t(71439),s=t(67294),u=t(74908),c=t(53976);function d(){var e=o()(["\n  fragment InlineExpansionContext_post on Post {\n    id\n    creator {\n      id\n      customStyleSheet {\n        id\n        blogroll {\n          visibility\n        }\n      }\n      isAuroraVisible\n      followedCollections\n      socialStats {\n        followingCount\n      }\n    }\n    collection {\n      id\n      canToggleEmail\n      description\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n      tagline\n    }\n    customStyleSheet {\n      id\n      blogroll {\n        visibility\n      }\n    }\n  }\n"]);return d=function(){return e},e}var p=s.createContext({expandedPostId:null,setExpandedPostId:function(){},postInView:!1,setPostInView:function(){},expandedPost:null,setExpandedPost:function(){}}),m=function(){return s.useContext(p)},f=function(e){var n=e.children,t=s.useState(null),r=a()(t,2),o=r[0],i=r[1],l=s.useState(!1),d=a()(l,2),m=d[0],f=d[1],v=s.useState(null),h=a()(v,2),g=h[0],E=h[1],b=(0,c.V)({name:"enable_inline_expansion",placeholder:null});return s.createElement(p.Provider,{value:{expandedPostId:o,setExpandedPostId:i,postInView:m,setPostInView:f,expandedPost:g,setExpandedPost:E}},s.createElement(u.k,{post:g,preload:!!b},n))},v=(0,l.Ps)(d())},33819:(e,n,t)=>{"use strict";t.d(n,{h:()=>v,K:()=>h});var r=t(28655),o=t.n(r),i=t(71439),a=t(67294),l=t(78181),s=t(33914),u=t(64504),c=t(27599),d=t(27572),p=t(28309),m=t(43915);function f(){var e=o()(["\n  fragment ResponsesIconButton_post on Post {\n    allowResponses\n    postResponses {\n      count\n    }\n  }\n"]);return f=function(){return e},e}var v=function(e){var n=e.allowResponses,t=e.responsesCount,r=e.location,o=e.showResponsesSidebar,i=e.postId,f=e.isLimitedState,v=e.shouldHideResponsesCount,h=void 0!==v&&v,g=e.responsesCountColor,E=void 0===g?"LIGHTER":g,b=(0,p.Iq)(),x=(0,c.Av)(),P=(0,d.pK)();if(!n)return null;var y="sidebar"===r,C="preview"===r,T="footer"===r,R=!h&&!!t,w=function(e){return{fill:e.baseColor.fill.normal,opacity:f?.4:1,cursor:f?"not-allowed":"pointer",":hover":{fill:f?void 0:e.baseColor.fill.lighter}}},S=function(){return a.createElement(a.Fragment,null,a.createElement(l.xu,{sm:{marginLeft:"-4px"},marginLeft:"-1px",tag:"span"},a.createElement(m.Z,{className:b(w),"aria-label":"responses"})))},I=T?a.createElement(S,null):a.createElement(m.Z,{className:b(w),"aria-label":"responses"}),k=a.createElement(s._,{tooltipText:"This feature is temporarily disabled.",targetDistance:15},T?a.createElement(S,null):a.createElement(m.Z,{className:b(w),"aria-label":"responses"})),_={paddingLeft:y?"6px":"7px",top:y?void 0:C?"1px":"3px"},O={paddingLeft:y?"6px":"3px",top:C?"-1px":"3px"};return a.createElement("button",{onClick:f?void 0:function(e){o(e),x.event("responses.viewAllClicked",{postId:i,source:P})},className:b({cursor:"pointer",border:0,padding:0})},a.createElement(l.xu,{display:"flex",flexDirection:"row",alignItems:"center",paddingRight:!h&&t?"9px":"4px"},f?k:I,a.createElement(l.xu,{position:"relative",xs:O,sm:O,md:O,lg:_,xl:_},R&&a.createElement(u.F,{scale:"M",color:E},t," "))))},h=(0,i.Ps)(f())},45893:(e,n,t)=>{"use strict";var r;t.d(n,{Fz:()=>r,yo:()=>o,ZR:()=>i}),function(e){e[e.LEGACY=1]="LEGACY",e[e.STORY=2]="STORY",e[e.SIMPLE=3]="SIMPLE"}(r||(r={}));var o=3,i="414px"},74908:(e,n,t)=>{"use strict";t.d(n,{k:()=>b});var r=t(319),o=t.n(r),i=t(63038),a=t.n(i),l=t(38125),s=t.n(l),u=t(67294),c=t(86156),d=t(45893),p=t(68356),m=t.n(p),f=t(19725),v=m()({loader:function(){return Promise.all([t.e(8342),t.e(8698),t.e(8873),t.e(7417)]).then(t.bind(t,25706))},modules:["src/components/responses/sidebar/threaded/ThreadedResponsesSidebar"],webpack:function(){return[25706]},loading:function(){return null},render:(0,f.n)("ThreadedResponsesSidebar")}),h=t(28309),g=t(72955),E=t(8403),b=function(e){var n=e.children,t=e.post,r=e.preload,i=void 0===r||r,l=u.useState(!1),p=a()(l,2),m=p[0],f=p[1],b=(0,h.Fg)(),x=!!(0,E.Wd)("responsesOpen"),P=u.useState(!1),y=a()(P,2),C=y[0],T=y[1],R=u.useRef(!0),w=u.useState(void 0),S=a()(w,2),I=S[0],k=S[1],_=u.useRef(0),O=u.useState(!1),M=a()(O,2),B=M[0],A=M[1],L=u.useState([]),D=a()(L,2),U=D[0],V=D[1],j=function(){V(s()(U))},F=u.useCallback((function(){return T(!0)}),[T]),N=u.useCallback((function(){T(!1),V([]),R.current=!0}),[T,V,R]);u.useEffect((function(){A(!0),T(x)}),[x]);var W=function(){window.innerWidth<b.breakpoints.md&&f(!0)};return u.useEffect((function(){return W(),g.V6.on("resize",W),function(){return g.V6.off("resize",W)}}),[]),u.useEffect((function(){var e,n,t=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return m&&null!=t&&t.style&&(C?(t.style.top="-".concat(_.current,"px"),_.current=t.scrollTop,t.style.overflow="hidden",t.style.position="fixed"):(t.style.overflow="",t.style.position="",t.style.top="",t.scrollTop=_.current)),function(){m&&null!=t&&t.style&&(t.style.overflow="",t.style.position="",t.style.top="",t.scrollTop=_.current)}}),[C]),u.useEffect((function(){i&&v.preload()}),[i]),u.createElement(c.f.Provider,{value:{addContinueThisThreadSidebar:function(e){R.current=!1,V([].concat(o()(U),[e]))},openSidebarToRespondToHighlight:function(e){k(e),T(!0)},openSidebar:F,closeSidebar:N}},!!t&&B&&u.createElement(v,{isResponsesSidebarVisible:C&&0===U.length,parentPost:t,inResponseToQuote:I,setInResponseToQuote:k,showPreviousSidebar:j,cleanupSidebar:N,initialSidebarRender:R.current}),!!t&&B&&U.map((function(e,n,r){var o,i=(o=n,(d.yo-1)*(o+1));return u.createElement(v,{key:t.id,isResponsesSidebarVisible:C&&n===r.length-1,parentPost:t,inResponseToQuote:I,setInResponseToQuote:k,continueThisThreadPost:e,continueThisThreadPostDepth:i,showPreviousSidebar:j,cleanupSidebar:N,initialSidebarRender:R.current})})),n)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2955.fbb23afd.chunk.js.map